# Input autosensing for combo XLR/TRS (per-channel) using Neutrik NCJ9 / NCJ10, with TRS thru mirroring the input as-is

Goal
- One front-panel combo connector per channel.
- XLR (mic/balanced) is the default source.
- Inserting a 1/4" plug selects the 1/4" signal (instrument/line).
- The adjacent TRS thru connector always mirrors the selected input signal as-is:
  - Balanced input stays balanced on thru.
  - Unbalanced input stays unbalanced on thru (TS in produces TS out).
- Internally, if the selected 1/4" signal is unbalanced, it is converted to a balanced pair first; only after that it is duplicated/distributed like any other balanced source.

Scope
- This note targets Neutrik Combo I connectors with normalling contacts:
  - NCJ9FI-* (switching jack normals: TN/RN/SN)
  - NCJ10FI-* (same as NCJ9, plus an additional XLR-side switching ground contact G/GN)

--------------------------------------------------------------------

## 1. How the switching (normalling) contacts work

- The jack provides extra contacts TN/RN/SN.
- With no 1/4" plug inserted, TN is connected to T, RN to R, SN to S.
- When a 1/4" plug is inserted, these normal connections open.

--------------------------------------------------------------------

## 2. Connector terminals and recommended net names

Terminal meaning

| Connector side | Terminal | Meaning |
|---|---:|---|
| XLR | 1 | Shield / reference |
| XLR | 2 | Hot / positive |
| XLR | 3 | Cold / negative |
| 1/4" jack | T | Tip contact (mates to plug Tip) |
| 1/4" jack | R | Ring contact (mates to plug Ring) |
| 1/4" jack | S | Sleeve contact (mates to plug Sleeve) |
| 1/4" jack | TN | Tip normal (closed to T only with no plug) |
| 1/4" jack | RN | Ring normal (closed to R only with no plug) |
| 1/4" jack | SN | Sleeve normal (closed to S only with no plug) |
| XLR ground switch (NCJ10 only) | G | Switched ground contact |
| XLR ground switch (NCJ10 only) | GN | Normal side of switched ground contact |

Recommended net names (combo)

| Net name | Connects to |
|---|---|
| CMB_XLR1 | XLR pin 1 |
| CMB_XLR2 | XLR pin 2 |
| CMB_XLR3 | XLR pin 3 |
| CMB_TRS_T | Jack T |
| CMB_TRS_R | Jack R |
| CMB_TRS_S | Jack S |
| CMB_TRS_TN | Jack TN |
| CMB_TRS_RN | Jack RN |
| CMB_TRS_SN | Jack SN |
| CMB_XLR_G | G (NCJ10 only) |
| CMB_XLR_GN | GN (NCJ10 only) |

--------------------------------------------------------------------

## 3. Key wiring idea

To satisfy both requirements (autosense and thru-as-is), use the combo jack contacts T/R/S as the single "selected source" node for the entire channel.

- Wire XLR pins 2 and 3 to the normal terminals TN and RN.
- With no 1/4" plug, the internal normal contacts connect TN->T and RN->R, so the selected source appears on T/R.
- With a 1/4" plug inserted, TN/RN open and T/R now carry the plug signal.

This means:
- The adjacent TRS thru can mirror T/R/S directly.
- The internal electronics can tap T/R/S and then process/distribute.

### 3.1 Wiring for autosense selection

| Connection | Purpose |
|---|---|
| CMB_XLR2 -> CMB_TRS_TN | routes XLR hot to the jack normal |
| CMB_XLR3 -> CMB_TRS_RN | routes XLR cold to the jack normal |
| CMB_XLR1 -> CMB_TRS_S (or system audio reference) | lets XLR reference appear on sleeve when in XLR mode |

Notes
- The exact handling of XLR pin 1 (to sleeve, to chassis, or via a network) depends on your grounding/EMC strategy.

--------------------------------------------------------------------

## 4. TRS thru must mirror the input as-is

Requirement
- The TRS thru must behave like a true pass-through of whatever the channel input currently is:
  - XLR mic/balanced source (no 1/4" plug inserted): thru presents a balanced TRS output.
  - TRS balanced line (1/4" TRS inserted): thru presents a balanced TRS output.
  - TS unbalanced instrument/line (1/4" TS inserted): thru presents an unbalanced TS-style signal.

Implementation
- Wire the adjacent TRS thru connector pins directly to the combo jack contacts:

| TRS thru pin | Connect to |
|---|---|
| THRU_T | CMB_TRS_T |
| THRU_R | CMB_TRS_R |
| THRU_S | CMB_TRS_S |

Optional protection (does not change balance state)
- Series resistors (example 22 to 100 ohm) in THRU_T and THRU_R for ESD/transient limiting.

Important note about phantom power
- If your product can enable phantom on the XLR, and you wire XLR2/3 to TN/RN and XLR1 to S, then in XLR mode the thru can carry DC (phantom) as well as audio.
- If this is not acceptable for your use cases (for example feeding a guitar amp), add a phantom-safe strategy such as:
  - DC blocking on the thru output (capacitors sized for your minimum load impedance), or
  - a relay/electronic disconnect of THRU_T/THRU_R when phantom is enabled.

--------------------------------------------------------------------

## 5. Plug detect (optional, for UI, control, or routing)

You can detect 1/4" plug insertion using SN as a dry contact.

- MODE_TRS has a pull-up to Vlogic.
- MODE_TRS connects to CMB_TRS_SN.
- CMB_TRS_S is the reference (usually audio ground).

Behaviour
- No 1/4" plug: SN is closed to S, MODE_TRS reads low.
- Plug inserted: SN opens, MODE_TRS reads high.

Suggested values
- Pull-up: 100 kOhm to Vlogic
- Optional debounce/EMI: 1 nF to ground near the logic input

--------------------------------------------------------------------

## 6. Internal processing and duplication (post-balancing)

Design rule
- The TRS thru is raw mirror and must not be taken from any post-processing node.
- Internal duplication/distribution can be done after a conditioning stage that outputs a balanced pair.

Recommended block-level architecture
1) Input tap
- Tap the selected source from CMB_TRS_T, CMB_TRS_R, CMB_TRS_S.
- Use a high impedance input (buffer/receiver) so the internal path does not depend on what is connected to the TRS thru.

2) Conditioning to a balanced internal bus
- Feed the tap into a conditioning stage that produces an internal balanced pair BUS_P/BUS_N.
- This stage must accept:
  - balanced differential sources (XLR or TRS line)
  - unbalanced TS sources (instrument/line)

How to interpret the inputs
- For TS plugs, the jack Ring is typically shorted to Sleeve by the plug, so CMB_TRS_R becomes the reference.
- For TRS balanced sources, CMB_TRS_T and CMB_TRS_R carry hot and cold.

3) Duplication/distribution
- Once you have BUS_P/BUS_N, you can duplicate it the same way you do for any other balanced source (transformer split, distribution amplifier, ADC feed, etc.).

Level/impedance note
- If your balanced duplication stage is sized for microphones (low level, low source impedance), ensure it can also handle line/instrument levels (pads, headroom, transformer selection).

--------------------------------------------------------------------

## 7. Quick checklist

- Part number is a switching/normalling combo (NCJ9* or NCJ10*).
- XLR2 is wired to TN and XLR3 to RN.
- TRS thru is wired to the combo jack contacts T/R/S, not to the internal balanced bus.
- Internal processing taps T/R/S with high impedance and generates a balanced BUS before duplication.
- If phantom power is present in the product, decide whether phantom is allowed on the thru and implement DC safety accordingly.

--------------------------------------------------------------------

References
- Neutrik Combo I Series (product family)
  https://www.neutrik.com/en/neutrik/products/plugs-jacks/jacks/combo-i-series
- Neutrik Combo FAQ (switching contacts allow circuit choice detection)
  https://www.neutrik.com/en/neutrik/faq/combo
- Neutrik Combo I Circuits (TN/RN/SN, G/GN)
  https://www.neutrik.us/media/19415/download/BDA%20607%20V2%20-%20Combo%20I%20Circuits.pdf?v=1
